<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Custom QR Creator</title>
  <meta name="description" content="Create customizable QR codes for websites and wifi" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://qr.jessejesse.com" />
  <meta property="og:title" content="Custom QR Creator" />
  <meta property="og:description" content="Create customizable QR codes for websites and wifi" />
  <meta property="og:image" content="https://qr.jessejesse.com/og.png" />
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://qr.jessejesse.com" />
  <meta property="twitter:title" content="Custom QR Creator" />
  <meta property="twitter:description" content="Create customizable QR codes for websites and wifi" />
  <meta property="twitter:image" content="https://qr.jessejesse.com/og.png" />
  <meta name="author" content="JesseJesse.com" />

  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <script src="https://cdn.jsdelivr.net/npm/qr-code-styling@1.6.0/lib/qr-code-styling.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --primary: #6366f1;
      --primary-dark: #4f46e5;
      --secondary: #ec4899;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --light: #f8fafc;
      --dark: #1e293b;
      --gray: #64748b;
      --gray-light: #e2e8f0;
      --border-radius: 12px;
      --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --transition: all 0.3s ease;
    }

    .dark-mode {
      --light: #0f172a;
      --dark: #f1f5f9;
      --gray: #94a3b8;
      --gray-light: #1e293b;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      color: var(--dark);
      min-height: 100vh;
      padding: 20px;
      transition: var(--transition);
    }

    body.dark-mode {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      margin-bottom: 2rem;
    }

    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 0.5rem;
    }

    .subtitle {
      color: var(--gray);
      font-weight: 400;
    }

    .app-container {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      border-radius: var(--border-radius);
      padding: 2rem;
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    .dark-mode .app-container {
      background: rgba(15, 23, 42, 0.8);
    }

    .form-section {
      flex: 1;
      min-width: 300px;
    }

    .preview-section {
      flex: 1;
      min-width: 300px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: var(--dark);
    }

    .dark-mode label {
      color: var(--dark);
    }

    input,
    select {
      width: 100%;
      padding: 0.75rem 1rem;
      border: 1px solid var(--gray-light);
      border-radius: 8px;
      background: white;
      color: var(--dark);
      font-family: 'Inter', sans-serif;
      transition: var(--transition);
    }

    .dark-mode input,
    .dark-mode select {
      background: var(--gray-light);
      border-color: #334155;
      color: var(--dark);
    }

    input:focus,
    select:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
    }

    .color-inputs {
      display: flex;
      gap: 1rem;
    }

    .color-input {
      flex: 1;
    }

    input[type="color"] {
      height: 45px;
      padding: 0;
      cursor: pointer;
    }

    .buttons {
      display: flex;
      gap: 1rem;
      margin-top: 2rem;
    }

    button {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 8px;
      font-family: 'Inter', sans-serif;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      flex: 1;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
    }

    .btn-primary:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: var(--gray-light);
      color: var(--dark);
    }

    .dark-mode .btn-secondary {
      background: #334155;
      color: var(--dark);
    }

    .btn-secondary:hover {
      background: var(--gray);
      transform: translateY(-2px);
    }

    .btn-danger {
      background: var(--danger);
      color: white;
    }

    .btn-danger:hover {
      background: #dc2626;
      transform: translateY(-2px);
    }

    #qrCodePreview {
      width: 250px;
      height: 250px;
      margin-bottom: 1.5rem;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      image-rendering: pixelated; /* sharper on high-DPI screens */
    }

    .download-options {
      display: flex;
      gap: 1rem;
      margin-top: 1rem;
      width: 100%;
      max-width: 250px;
    }

    .download-btn {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--light);
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: var(--shadow);
      transition: var(--transition);
      z-index: 100;
    }

    .dark-mode .theme-toggle {
      background: var(--dark);
      color: var(--light);
    }

    .hidden {
      display: none;
    }

    @media (max-width: 768px) {
      .app-container {
        flex-direction: column;
      }

      h1 {
        font-size: 2rem;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <header>
      <h1>QR Creator</h1>
      <p class="subtitle">Create customizable QR codes for websites and wifi</p>
    </header>

    <div class="app-container">
      <section class="form-section">
        <div class="form-group">
          <label for="mode">QR Type</label>
          <select id="mode">
            <option value="wifi">WiFi</option>
            <option value="url" selected>URL</option>
          </select>
        </div>

        <div id="wifiFields" class="hidden">
          <div class="form-group">
            <label for="ssid">Wi-Fi SSID</label>
            <input type="text" id="ssid" placeholder="Network Name">
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input type="text" id="password" placeholder="Wi-Fi Password">
          </div>
          <div class="form-group">
            <label for="encryption">Encryption</label>
            <select id="encryption">
              <option value="WPA">WPA/WPA2</option>
              <option value="WEP">WEP</option>
              <option value="nopass">None</option>
            </select>
          </div>
        </div>

        <div id="urlField">
          <div class="form-group">
            <label for="urlInput">Target URL</label>
            <input type="url" id="urlInput" placeholder="https://qr.jessejesse.com">
          </div>
        </div>

        <div class="form-group">
          <label for="styleSelect">QR Style</label>
          <select id="styleSelect">
            <option value="square">Squares</option>
            <option value="dots">Dots</option>
            <option value="rounded">Rounded</option>
            <option value="classy">Classy</option>
            <option value="classy-rounded">Classy Rounded</option>
            <option value="extra-rounded">Extra Rounded</option>
            <option value="triangle">Triangles</option>
          </select>
        </div>

        <div class="form-group">
          <div class="color-inputs">
            <div class="color-input">
              <label for="fill">Primary Color</label>
              <input type="color" id="fill" value="#000000">
            </div>
            <div class="color-input">
              <label for="bg">Background Color</label>
              <input type="color" id="bg" value="#ffffff">
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="imageInput">Image URL (Optional)</label>
          <input type="url" id="imageInput" placeholder="https://qr.jessejesse.com/logo.png">
        </div>

        <div class="buttons">
          <button id="clearButton" class="btn-danger">Reset</button>
          <button id="generateButton" class="btn-primary">Generate QR Code</button>
        </div>
      </section>

      <section class="preview-section">
        <div id="qrCodePreview"></div>
        <div class="download-options">
          <button id="downloadPng" class="download-btn btn-primary">
            PNG
          </button>
          <button id="downloadSvg" class="download-btn btn-secondary">
            SVG
          </button>
        </div>
      </section>
    </div>
  </div>

  <button id="themeToggle" class="theme-toggle">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
    </svg>
  </button>

  <footer style="text-align:center; margin-top:2rem; font-size:0.9rem; color:var(--gray);">
    <a href="https://qr.jessejesse.com" target="_blank"
      style="color:var(--primary); text-decoration:none; transition: color 0.3s;">qr.jessejesse.com</a>
  </footer>

  <script>
    const modeSelect = document.getElementById("mode");
    const styleSelect = document.getElementById("styleSelect");
    const ssidInput = document.getElementById("ssid");
    const passwordInput = document.getElementById("password");
    const encryptionInput = document.getElementById("encryption");
    const urlInput = document.getElementById("urlInput");
    const fillColorInput = document.getElementById("fill");
    const bgColorInput = document.getElementById("bg");
    const imageInput = document.getElementById("imageInput");
    const qrPreview = document.getElementById("qrCodePreview");
    const clearButton = document.getElementById("clearButton");
    const themeToggle = document.getElementById("themeToggle");
    const downloadPng = document.getElementById("downloadPng");
    const downloadSvg = document.getElementById("downloadSvg");
    const generateButton = document.getElementById("generateButton");

    let qrCode = new QRCodeStyling({
      width: 250,
      height: 250,
      type: "svg",
      data: "https://qr.jessejesse.com",
      image: "",
      dotsOptions: { color: "#000", type: "square" },
      backgroundOptions: { color: "#fff" },
      qrOptions: { errorCorrectionLevel: 'H' }
    });

    qrCode.append(qrPreview);

    function getQRData() {
      const mode = modeSelect.value;
      if (mode === "wifi") {
        const ssid = ssidInput.value.trim();
        const pwd = passwordInput.value.trim();
        const enc = encryptionInput.value;
        return `WIFI:T:${enc};S:${ssid};P:${pwd};;`;
      } else {
        return urlInput.value.trim() || "https://qr.jessejesse.com";
      }
    }

    function updateQRCode() {
      const fill = fillColorInput.value;
      const bg = bgColorInput.value;
      const style = styleSelect.value;
      const data = getQRData();
      const image = imageInput.value.trim();

      qrCode.update({
        data,
        image: image || "",
        dotsOptions: { color: fill, type: style },
        backgroundOptions: { color: bg },
      });
    }

    function toggleFields() {
      const mode = modeSelect.value;
      document.getElementById("wifiFields").classList.toggle("hidden", mode !== "wifi");
      document.getElementById("urlField").classList.toggle("hidden", mode !== "url");
      updateQRCode();
    }

    function toggleTheme() {
      document.body.classList.toggle("dark-mode");
      localStorage.setItem("darkMode", document.body.classList.contains("dark-mode"));
    }

    if (localStorage.getItem("darkMode") === "true") document.body.classList.add("dark-mode");

    modeSelect.addEventListener("change", toggleFields);
    styleSelect.addEventListener("change", updateQRCode);
    ssidInput.addEventListener("input", updateQRCode);
    passwordInput.addEventListener("input", updateQRCode);
    encryptionInput.addEventListener("change", updateQRCode);
    urlInput.addEventListener("input", updateQRCode);
    fillColorInput.addEventListener("input", updateQRCode);
    bgColorInput.addEventListener("input", updateQRCode);
    imageInput.addEventListener("input", updateQRCode);
    themeToggle.addEventListener("click", toggleTheme);
    generateButton.addEventListener("click", updateQRCode);

    clearButton.addEventListener("click", () => {
      ssidInput.value = "";
      passwordInput.value = "";
      urlInput.value = "";
      imageInput.value = "";
      fillColorInput.value = "#000000";
      bgColorInput.value = "#ffffff";
      styleSelect.value = "square";
      updateQRCode();
    });

    downloadPng.addEventListener("click", () => {
      qrCode.download({ name: "StyledQRCode", extension: "png", scale: 4 });
    });

    downloadSvg.addEventListener("click", () => {
      qrCode.download({ name: "StyledQRCode", extension: "svg" });
    });

    toggleFields();
    updateQRCode();

    const footerLink = document.querySelector('footer a');
    footerLink.addEventListener('mouseenter', () => footerLink.style.color = getComputedStyle(document.documentElement).getPropertyValue('--secondary'));
    footerLink.addEventListener('mouseleave', () => footerLink.style.color = getComputedStyle(document.documentElement).getPropertyValue('--primary'));
  </script>
</body>

</html>

